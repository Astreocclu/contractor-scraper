# Session Log: Lead Sales Analysis
**Date:** 2025-12-07
**Participants:** Reid + Claude + Gemini (iterative brainstorming)

---

## TL;DR

We answered: "What's blocking you from packaging leads and selling them to contractors?"

**Answer:** Almost nothing. We have 754 unique homeowner leads ready to sell. Just need phone numbers (~$7 via Tracerfy).

---

## What Happened

### 1. Initial Analysis (Gemini)
Asked Gemini to analyze the codebase for lead sales blockers. Gemini incorrectly concluded:
- "Permits are closed deals" (the "permit paradox")
- Recommended pivoting to "downstream leads" (selling pool permits to landscapers, not pool builders)

### 2. Critical Correction (Reid)
Reid caught the error: **The permit paradox only applies to contractor-pulled permits.** Homeowner-pulled permits ARE leads - the homeowner is permitting BEFORE hiring.

### 3. Data Analysis (Claude)
Cross-referenced permits with CAD (County Appraisal District) owner data:

```
Total permits with CAD data: 1,756

Owner is PERSON + NO contractor: 808 (46%) → PRIMARY LEADS
Owner is BUSINESS (builder/investor): 581 (33%) → Not leads
Unknown: 365 (21%) → Needs review
```

**46% of permits are homeowner-pulled = real leads.**

### 4. Database Updates
Flagged all leads in the database with `ai_applicant_type`:
- `homeowner`: 1,243 leads
- `builder_investor`: 646 leads
- `unknown`: 365 leads

### 5. Export for Skip Tracing
Created `exports/homeowner_leads_tracerfy_deduped.csv`:
- 754 unique homeowners (deduplicated by mailing address)
- Fields: First Name, Last Name, Address, City, State, Zip, Property Address, Market Value
- Skip trace cost: ~$7 at $0.009/record

---

## Key Findings

### What We HAVE (1,243 homeowner leads)
| Field | Coverage |
|-------|----------|
| owner_name | 100% |
| mailing_address | 100% |
| property_address | 100% |
| market_value | 100% |
| permit_type | varies |

High-value inventory: $6M, $4M, $3M+ properties in Westlake, Fort Worth.

### What We NEED
| Field | Status | Solution |
|-------|--------|----------|
| Phone number | MISSING | Tracerfy (~$7 total) |
| DNC scrub | MISSING | Required for compliance |

---

## Files Created/Modified

| File | Change |
|------|--------|
| `docs/LEAD_SALES_BLOCKERS.md` | Main analysis document |
| `docs/SESSION_LOG_2025-12-07_lead_analysis.md` | This file |
| `exports/homeowner_leads_tracerfy.csv` | 1,243 leads (with duplicates) |
| `exports/homeowner_leads_tracerfy_deduped.csv` | 754 unique leads |
| `CLAUDE.md` | Changed Gemini delegation from 5+ to 3+ files |
| `db.sqlite3` | Added ai_applicant_type to 2,254 leads |

---

## Commits

```
2e7f3c1 Add lead sales blockers analysis and update Gemini delegation threshold
```

---

## Lessons Learned

1. **Gemini makes assumptions** - It assumed all permits were contractor-pulled without checking the data. Always verify with actual queries.

2. **CAD data is gold** - Cross-referencing permits with CAD owner names is how you determine homeowner vs contractor permits.

3. **Deduplication matters** - Same homeowner can have multiple permits. Dedupe by mailing address before skip tracing.

4. **Skip tracing is cheap** - ~$0.009/record, not $0.15. Total cost for 754 leads = ~$7.

---

## Next Steps

1. **Upload to Tracerfy** - `exports/homeowner_leads_tracerfy_deduped.csv`
2. **Get phone numbers** - ~$7 cost
3. **Call 5 contractors** - Validate willingness to pay
4. **If validated** - Build automated pipeline

---

## Code Reference

### Query homeowner leads:
```python
Lead.objects.filter(ai_applicant_type='homeowner')
```

### Classification logic:
```python
def is_person_name(name):
    # Pattern: "SMITH, JOHN" or "SMITH, JOHN & JANE"
    return re.match(r'^[A-Z][A-Za-z\-]+,\s*[A-Z]', name)

def is_business_name(name):
    indicators = ['LLC', 'LP', 'INC', 'HOMES', 'BUILDERS', 'CONSTRUCTION']
    return any(ind in name.upper() for ind in indicators)
```

### Data stats:
```sql
SELECT ai_applicant_type, COUNT(*)
FROM leads_lead
WHERE ai_applicant_type IS NOT NULL
GROUP BY ai_applicant_type;

-- homeowner: 1243
-- builder_investor: 646
-- unknown: 365
```

---

*Generated by Claude + Gemini iterative brainstorming session*
